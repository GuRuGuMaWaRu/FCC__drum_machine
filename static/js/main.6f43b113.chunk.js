(this.webpackJsonpfcc_drum_machine=this.webpackJsonpfcc_drum_machine||[]).push([[0],[,,,,,,,function(e,a,n){e.exports=n(25)},,,,,function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},function(e,a,n){},,,function(e,a,n){},function(e,a,n){},function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),r=n(6),u=n.n(r),s=Object(t.createContext)(),o=(n(12),function(){var e=Object(t.useContext)(s).currentSound;return c.a.createElement("div",{id:"display"},e&&e.name||"---")}),l=n(3),m=(n(13),function(e){var a=e.drumPad,n=e.handlePlay,r=Object(t.useState)(!1),u=Object(l.a)(r,2),s=u[0],o=u[1],m=Object(t.useRef)();Object(t.useEffect)((function(){return document.addEventListener("keypress",d),function(){document.removeEventListener("keypress",d)}}));var d=function(e){e.key.toUpperCase()===a.name.toUpperCase()&&(o(!0),setTimeout((function(){return o(!1)}),200),n({audio:m.current,name:a.name}))};return c.a.createElement("div",{className:s?"drum-pad drum-pad-active":"drum-pad",id:a.name,onClick:function(){n({audio:m.current,name:a.name})}},a.name,c.a.createElement("audio",{ref:m,className:"clip",id:a.name,src:a.src}))}),d=(n(14),function(){var e=Object(t.useContext)(s),a=e.currentTrack,n=e.addSound,r=e.clearDisplays,u=function(e){var t=e.audio,c=e.name;t.currentTime=0,t.play(),a.length>9?r():n({name:c,audio:t})};return c.a.createElement("div",{id:"drum-pads-panel"},[{name:"Q",src:"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"},{name:"W",src:"https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"},{name:"E",src:"https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"},{name:"A",src:"https://s3.amazonaws.com/freecodecamp/drums/Give_us_a_light.mp3"},{name:"S",src:"https://s3.amazonaws.com/freecodecamp/drums/Dry_Ohh.mp3"},{name:"D",src:"https://s3.amazonaws.com/freecodecamp/drums/Bld_H1.mp3"},{name:"Z",src:"https://s3.amazonaws.com/freecodecamp/drums/punchy_kick_1.mp3"},{name:"X",src:"https://s3.amazonaws.com/freecodecamp/drums/side_stick_1.mp3"},{name:"C",src:"https://s3.amazonaws.com/freecodecamp/drums/Brk_Snr.mp3"}].map((function(e){return c.a.createElement(m,{key:e.name,drumPad:e,handlePlay:u})})))}),i=(n(15),function(){return c.a.createElement("div",{id:"sound-play-pane"},c.a.createElement(o,null),c.a.createElement(d,null))}),p=(n(16),function(e){var a=e.name,n=e.isPlayed;return c.a.createElement("div",{className:"played-sound ".concat(n?"played-sound-played":"")},a)}),f=(n(17),function(){var e=Object(t.useContext)(s),a=e.currentSound,n=e.currentTrack,r=n.length>9;return c.a.createElement("div",{className:"played-sounds-display ".concat(r?"limit-reached":"")},0===n.length?"---":n.map((function(e){return c.a.createElement(p,{key:e.id,name:e.name,isPlayed:!(!a||a.id!==e.id)})})))}),E=(n(18),function(e){var a=e.savedTrack,n=a.id,t=a.track,r=e.handleSelectTrack,u=e.handleDeleteTrack;return c.a.createElement("div",{className:"sound-store-item"},c.a.createElement("div",{className:"sound-store-item-track",onClick:function(){return r(n)}},t.map((function(e){return c.a.createElement("span",{key:e.id,className:"sound-store-item-sound"},e.name)}))),c.a.createElement("button",{className:"delete-store-item-button",onClick:function(){return u(n)}},c.a.createElement("i",{className:"fas fa-times"})))}),k=(n(19),function(){var e=Object(t.useContext)(s),a=e.savedTracks,n=e.deleteTrack,r=e.selectTrack,u=function(e){r(e)},o=function(e){n(e)};return c.a.createElement("div",{className:"sound-store"},a.length>0&&a.map((function(e){return c.a.createElement(E,{key:e.id,savedTrack:e,handleSelectTrack:u,handleDeleteTrack:o})})))}),v=(n(20),function(){var e=Object(t.useContext)(s),a=e.currentTrack,n=e.savedTracks,r=e.playSound,u=e.removeSound,o=e.saveTrack,l=e.clearTrack,m=Object(t.useRef)();return c.a.createElement("div",{className:"sound-store-pane"},c.a.createElement("div",{className:"current-track-area"},m.current?c.a.createElement("button",{className:"control-button play-button",onClick:function(){clearInterval(m.current),m.current=null,r(null)}},c.a.createElement("i",{className:"fas fa-stop"})):c.a.createElement("button",{className:"control-button play-button",onClick:function(){var e=0;m.current=setInterval((function(){if(e>=a.length)return clearInterval(m.current),m.current=null,void r(null);r({id:a[e].id,name:a[e].name}),a[e].audio.currentTime=0,a[e].audio.play(),e+=1}),500)}},c.a.createElement("i",{className:"fas fa-play"})),c.a.createElement(f,null),c.a.createElement("button",{className:"control-button",onClick:function(){u()}},c.a.createElement("i",{className:"fas fa-chevron-left"})),c.a.createElement("button",{className:"control-button",onClick:function(){l()}},c.a.createElement("i",{className:"fas fa-times"})),c.a.createElement("button",{className:"control-button",onClick:function(){n.length<5&&a.length>0&&o()}},c.a.createElement("i",{className:"fas fa-chevron-down"}))),c.a.createElement(k,null))}),T=n(2),y=n.n(T),b=n(4),h=n(1),C=function(e,a){switch(a.type){case"ADD_SOUND":return Object(h.a)({},e,{currentSound:{id:a.payload.id,name:a.payload.name},currentTrack:[].concat(Object(b.a)(e.currentTrack),[a.payload])});case"PLAY_SOUND":return Object(h.a)({},e,{currentSound:a.payload});case"REMOVE_SOUND":return Object(h.a)({},e,{currentTrack:Object(b.a)(e.currentTrack.slice(0,-1))});case"CLEAR_DISPLAYS":return Object(h.a)({},e,{currentSound:{}});case"SAVE_TRACK":return Object(h.a)({},e,{currentSound:{},currentTrack:[],savedTracks:[{id:y()(),track:e.currentTrack}].concat(Object(b.a)(e.savedTracks))});case"DELETE_TRACK":return Object(h.a)({},e,{savedTracks:e.savedTracks.filter((function(e){return e.id!==a.payload}))});case"CLEAR_CURRENT_TRACK":return Object(h.a)({},e,{currentSound:{},currentTrack:[]});case"SELECT_TRACK":return Object(h.a)({},e,{currentTrack:e.savedTracks.filter((function(e){return e.id===a.payload}))[0].track});default:return e}},S=function(e){var a=Object(t.useReducer)(C,{currentSound:{},currentTrack:[],savedTracks:[]}),n=Object(l.a)(a,2),r=n[0],u=n[1];return c.a.createElement(s.Provider,{value:{currentSound:r.currentSound,currentTrack:r.currentTrack,savedTracks:r.savedTracks,addSound:function(e){var a=e.name,n=e.audio;u({type:"ADD_SOUND",payload:{name:a,audio:n,id:y()()}})},playSound:function(e){u({type:"PLAY_SOUND",payload:e})},removeSound:function(){u({type:"REMOVE_SOUND"})},clearDisplays:function(){u({type:"CLEAR_DISPLAYS"})},saveTrack:function(){u({type:"SAVE_TRACK"})},deleteTrack:function(e){u({type:"DELETE_TRACK",payload:e})},clearTrack:function(){u({type:"CLEAR_CURRENT_TRACK"})},selectTrack:function(e){u({type:"SELECT_TRACK",payload:e})}}},e.children)},_=(n(23),function(){return c.a.createElement(S,null,c.a.createElement("div",{id:"drum-machine"},c.a.createElement("div",{className:"title"},"Soundblaster 3000"),c.a.createElement("div",{className:"panes"},c.a.createElement(i,null),c.a.createElement(v,null))))});n(24);u.a.render(c.a.createElement(_,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.6f43b113.chunk.js.map